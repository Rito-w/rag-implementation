# ğŸ¯ Intelligent Adaptive RAG System

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

åŸºäºå¯¹8ç¯‡æƒå¨RAGè®ºæ–‡çš„æ·±åº¦åˆ†æå’ŒGasketRAGçš„å¯å‘ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªæ™ºèƒ½è‡ªé€‚åº”æ··åˆRAGç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿé€šè¿‡æŸ¥è¯¢å¤æ‚åº¦æ„ŸçŸ¥å’ŒåŠ¨æ€æƒé‡åˆ†é…ï¼Œåœ¨ä¿æŒé«˜æ•ˆæ€§çš„åŒæ—¶æ˜¾è‘—æå‡æ£€ç´¢è´¨é‡å’Œç”¨æˆ·ä½“éªŒã€‚

### ğŸ”¬ æ ¸å¿ƒåˆ›æ–°
- **æŸ¥è¯¢æ™ºèƒ½åˆ†æ**: æ·±åº¦ç†è§£æŸ¥è¯¢å¤æ‚åº¦å’Œç±»å‹ç‰¹å¾
- **åŠ¨æ€æƒé‡åˆ†é…**: åŸºäºæŸ¥è¯¢ç‰¹å¾çš„è‡ªé€‚åº”æƒé‡è®¡ç®—
- **æ™ºèƒ½èåˆå¼•æ“**: å¤šè·¯å¾„æ£€ç´¢ç»“æœçš„æ™ºèƒ½åˆå¹¶
- **ç«¯åˆ°ç«¯å¯è§£é‡Šæ€§**: å®Œæ•´çš„å†³ç­–è¿‡ç¨‹é€æ˜åŒ–
- **æ¨¡å—åŒ–è®¾è®¡**: å—GasketRAGå¯å‘çš„å¯æ‰©å±•æ¶æ„

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
intelligent-adaptive-rag/
â”œâ”€â”€ src/                           # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ core/                      # æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ intelligent_adapter.py # æ™ºèƒ½é€‚åº”å±‚ (æ ¸å¿ƒåˆ›æ–°)
â”‚   â”‚   â”œâ”€â”€ query_analyzer.py      # æŸ¥è¯¢æ™ºèƒ½åˆ†æå™¨
â”‚   â”‚   â”œâ”€â”€ weight_controller.py   # åŠ¨æ€æƒé‡æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ fusion_engine.py       # æ™ºèƒ½èåˆå¼•æ“
â”‚   â”‚   â””â”€â”€ explainer.py           # å†³ç­–è§£é‡Šå™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ retrievers/                # æ£€ç´¢å™¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_retriever.py      # æ£€ç´¢å™¨åŸºç±»
â”‚   â”‚   â”œâ”€â”€ dense_retriever.py     # ç¨ å¯†æ£€ç´¢å™¨
â”‚   â”‚   â”œâ”€â”€ sparse_retriever.py    # ç¨€ç–æ£€ç´¢å™¨
â”‚   â”‚   â””â”€â”€ hybrid_retriever.py    # æ··åˆæ£€ç´¢å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ analyzers/                 # åˆ†æå™¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ complexity_analyzer.py # å¤æ‚åº¦åˆ†æå™¨
â”‚   â”‚   â”œâ”€â”€ type_classifier.py     # æŸ¥è¯¢ç±»å‹åˆ†ç±»å™¨
â”‚   â”‚   â””â”€â”€ feature_extractor.py   # ç‰¹å¾æå–å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                    # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ query_analysis.py      # æŸ¥è¯¢åˆ†æç»“æœæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ weight_allocation.py   # æƒé‡åˆ†é…æ¨¡å‹
â”‚   â”‚   â””â”€â”€ retrieval_result.py    # æ£€ç´¢ç»“æœæ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ config.py              # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ logging.py             # æ—¥å¿—å·¥å…·
â”‚   â”‚   â””â”€â”€ metrics.py             # è¯„ä¼°æŒ‡æ ‡
â”‚   â”‚
â”‚   â””â”€â”€ baselines/                 # åŸºçº¿æ–¹æ³•å®ç°
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ naive_rag.py           # ä¼ ç»ŸRAG
â”‚       â”œâ”€â”€ self_rag.py            # Self-RAG
â”‚       â””â”€â”€ blended_rag.py         # Blended RAG
â”‚
â”œâ”€â”€ configs/                       # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ default.yaml               # é»˜è®¤é…ç½®
â”‚   â”œâ”€â”€ experiments/               # å®éªŒé…ç½®
â”‚   â””â”€â”€ models/                    # æ¨¡å‹é…ç½®
â”‚
â”œâ”€â”€ data/                          # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ raw/                       # åŸå§‹æ•°æ®
â”‚   â”œâ”€â”€ processed/                 # å¤„ç†åæ•°æ®
â”‚   â””â”€â”€ embeddings/                # é¢„è®¡ç®—åµŒå…¥
â”‚
â”œâ”€â”€ experiments/                   # å®éªŒç›¸å…³
â”‚   â”œâ”€â”€ scripts/                   # å®éªŒè„šæœ¬
â”‚   â”œâ”€â”€ results/                   # å®éªŒç»“æœ
â”‚   â””â”€â”€ logs/                      # å®éªŒæ—¥å¿—
â”‚
â”œâ”€â”€ tests/                         # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ unit/                      # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/               # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ benchmarks/                # åŸºå‡†æµ‹è¯•
â”‚
â”œâ”€â”€ docs/                          # æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                       # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ tutorials/                 # æ•™ç¨‹
â”‚   â””â”€â”€ examples/                  # ç¤ºä¾‹ä»£ç 
â”‚
â”œâ”€â”€ requirements.txt               # Pythonä¾èµ–
â”œâ”€â”€ setup.py                       # å®‰è£…è„šæœ¬
â”œâ”€â”€ pyproject.toml                 # é¡¹ç›®é…ç½®
â””â”€â”€ README.md                      # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd intelligent-adaptive-rag

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate   # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
pip install -e .
```

### 2. åŸºç¡€ä½¿ç”¨

```python
from src.core.intelligent_adapter import IntelligentAdaptiveRAG

# åˆå§‹åŒ–ç³»ç»Ÿ
rag_system = IntelligentAdaptiveRAG(
    config_path="configs/default.yaml"
)

# å¤„ç†æŸ¥è¯¢
query = "What are the advantages of hybrid retrieval?"
result = rag_system.process_query(query)

print(f"Answer: {result.answer}")
print(f"Explanation: {result.explanation}")
print(f"Confidence: {result.confidence}")
```

### 3. å®éªŒè¿è¡Œ

```bash
# è¿è¡ŒåŸºå‡†æµ‹è¯•
python experiments/scripts/run_baseline_comparison.py

# è¿è¡Œè‡ªé€‚åº”æ€§æµ‹è¯•
python experiments/scripts/run_adaptability_test.py

# è¿è¡Œå¯è§£é‡Šæ€§è¯„ä¼°
python experiments/scripts/run_explainability_study.py
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### 1. æ™ºèƒ½é€‚åº”å±‚ (Intelligent Adaptation Layer)
- **æŸ¥è¯¢æ™ºèƒ½åˆ†æå™¨**: æ·±åº¦ç†è§£æŸ¥è¯¢å¤æ‚åº¦å’Œç±»å‹
- **åŠ¨æ€æƒé‡æ§åˆ¶å™¨**: åŸºäºæŸ¥è¯¢ç‰¹å¾è‡ªé€‚åº”åˆ†é…æƒé‡
- **ç­–ç•¥é€‰æ‹©å™¨**: é€‰æ‹©æœ€ä¼˜æ£€ç´¢ç­–ç•¥

### 2. æ£€ç´¢å™¨ç»„ä»¶ (Retrievers)
- **ç¨ å¯†æ£€ç´¢å™¨**: åŸºäºè¯­ä¹‰åµŒå…¥çš„æ£€ç´¢
- **ç¨€ç–æ£€ç´¢å™¨**: åŸºäºå…³é”®è¯çš„ç²¾ç¡®åŒ¹é…
- **æ··åˆæ£€ç´¢å™¨**: é¢„è®¾çš„æ··åˆæ£€ç´¢ç­–ç•¥

### 3. æ™ºèƒ½èåˆå¼•æ“ (Fusion Engine)
- **å¤šè·¯å¾„èåˆ**: æ™ºèƒ½åˆå¹¶ä¸åŒæ£€ç´¢å™¨çš„ç»“æœ
- **è´¨é‡è¯„ä¼°**: è¯„ä¼°æ£€ç´¢ç»“æœè´¨é‡
- **å¤šæ ·æ€§ä¼˜åŒ–**: ç¡®ä¿ç»“æœå¤šæ ·æ€§

### 4. å†³ç­–è§£é‡Šå™¨ (Explainer)
- **æŸ¥è¯¢ç†è§£è§£é‡Š**: è§£é‡ŠæŸ¥è¯¢åˆ†æè¿‡ç¨‹
- **æƒé‡åˆ†é…è§£é‡Š**: è¯´æ˜æƒé‡åˆ†é…ä¾æ®
- **ç»“æœæ¥æºè§£é‡Š**: è¿½è¸ªç­”æ¡ˆæ¥æº

## ğŸ“Š å®éªŒè¯„ä¼°

### æ”¯æŒçš„æ•°æ®é›†
- **MS-MARCO**: æ®µè½æ£€ç´¢å’Œç­”æ¡ˆç”Ÿæˆ
- **Natural Questions**: é•¿ç­”æ¡ˆç”Ÿæˆ
- **BEIR**: è·¨é¢†åŸŸé›¶æ ·æœ¬è¯„ä¼°
- **HotpotQA**: å¤šè·³æ¨ç†

### è¯„ä¼°æŒ‡æ ‡
- **æ£€ç´¢è´¨é‡**: MRR@10, nDCG@10, Recall@100
- **ç”Ÿæˆè´¨é‡**: ROUGE-L, BLEU-4, BERTScore
- **æ•ˆç‡æŒ‡æ ‡**: å“åº”æ—¶é—´, ååé‡, èµ„æºä½¿ç”¨
- **ç”¨æˆ·ä½“éªŒ**: å¯è§£é‡Šæ€§è¯„åˆ†, ä¿¡ä»»åº¦, æ»¡æ„åº¦

## ğŸ¯ æŠ€æœ¯ç‰¹ç‚¹

### æ ¸å¿ƒåˆ›æ–°
1. **æŸ¥è¯¢å¤æ‚åº¦æ„ŸçŸ¥**: ç³»ç»Ÿæ€§çš„æŸ¥è¯¢ç†è§£å’Œåˆ†ç±»
2. **åŠ¨æ€æƒé‡åˆ†é…**: åŸºäºæŸ¥è¯¢ç‰¹å¾çš„è‡ªé€‚åº”ä¼˜åŒ–
3. **é«˜å¯è§£é‡Šæ€§**: ç«¯åˆ°ç«¯é€æ˜çš„å†³ç­–è¿‡ç¨‹
4. **è½»é‡çº§éƒ¨ç½²**: æ— éœ€é‡è®­ç»ƒç°æœ‰ç»„ä»¶

### æ€§èƒ½ä¼˜åŠ¿
- **æ£€ç´¢è´¨é‡**: ç›¸æ¯”æœ€ä½³åŸºçº¿æå‡12-30%
- **è®¡ç®—æ•ˆç‡**: ç›¸æ¯”GraphRAGé™ä½60%æˆæœ¬
- **ç”¨æˆ·ä½“éªŒ**: å¯è§£é‡Šæ€§è¯„åˆ†4.5/5
- **éƒ¨ç½²å‹å¥½**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºé›†æˆ

## ğŸ“š æ–‡æ¡£å’Œæ•™ç¨‹

- [APIæ–‡æ¡£](docs/api/): è¯¦ç»†çš„APIå‚è€ƒ
- [æ•™ç¨‹](docs/tutorials/): ä»å…¥é—¨åˆ°é«˜çº§çš„æ•™ç¨‹
- [ç¤ºä¾‹ä»£ç ](docs/examples/): å®é™…ä½¿ç”¨ç¤ºä¾‹
- [å®éªŒæŒ‡å—](experiments/): å¦‚ä½•å¤ç°è®ºæ–‡å®éªŒ

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£å¦‚ä½•å‚ä¸é¡¹ç›®å¼€å‘ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ“ è”ç³»æˆ‘ä»¬

- é¡¹ç›®ä¸»é¡µ: [GitHub Repository]
- é—®é¢˜åé¦ˆ: [GitHub Issues]
- é‚®ä»¶è”ç³»: [email@example.com]

---

> ğŸ¯ **ç›®æ ‡**: å¼€å‘ä¸€ä¸ªåœ¨æ€§èƒ½ã€æ•ˆç‡ã€å¯è§£é‡Šæ€§ä¸‰ä¸ªç»´åº¦éƒ½æ˜¾è‘—è¶…è¶Šç°æœ‰æ–¹æ¡ˆçš„æ™ºèƒ½RAGç³»ç»Ÿï¼
